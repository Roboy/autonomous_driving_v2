# Path Planning
With the map constructed by SLAM as a basis Roboy can plan its path on it. In general, path planning is divided into global and local planning. In a nut shell, this means that the global plan finds the ideal path on a static map. When Roboy then actually drives on the path it constantly monitors moving objects (pedestrians, cars, etc.) and adapts the global plan if needed. This is called the local plan and is updated every few seconds.

The ROS navigation stack provides an all-in-one solution to solve both of these problems. However, the ROS global planner does not consider some restrictions (e.g. that the bike can not turn in place and therefore we can't plan a u-turn. This is why our code has a custom global planner but still uses the local planner from the ROS navigation stack.


For in-depth information, read this article on medium.com about [Autonomous Driving using ROS for Beginners](https://medium.com/@alex.melkonyan/9885dc28ea2). 


## Global Planning

<img align="left" src="https://github.com/Roboy/autonomous_driving/blob/wiki-material/wiki-material/overview/global_planner_4_3.gif" width="250">

Global planning finds the ideal path on a static map that was generated by the SLAM in the previous steps, i.e. this planning step does not consider dynamic obstacles such as pedestrians.

However, the global planner of the [ROS navigation stack](http://wiki.ros.org/navigation) was not applicable for our case because it assumes that the bike can turn in place which is not possible. Instead the custom implementation [astar_ackermann_planner](https://github.com/melkonyan/astar_ackermann_planner/tree/master) was made that considers the fact that the bike has a minimum turning radius.



## Local Planning

<img align="left" src="https://github.com/Roboy/autonomous_driving/blob/wiki-material/wiki-material/overview/local_planner_4_3.gif" width="250">

Local planning allows obstacle avoidance (e.g. driving around pedestrians) by considering dynamic obstacles such that the global path is adapted to the local path.

Here we use the local planner provided by the ROS navigation stack. It subscribes to the raw laserscan data provided by the lidar and plans a path around an obstacle in case it is picked up by the lidar.

For more information read the article about the [ROS navigation stack](http://wiki.ros.org/navigation) in general or the [base_local_planner](http://wiki.ros.org/base_local_planner?distro=melodic). 

